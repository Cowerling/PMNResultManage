(function($){$.fn.imageSelect=function(){$(".image-preview").popover({trigger:"manual",html:true,title:$("<button type='button' class='close_image_preview close pull-right'><span class='fa fa-times'></span></button>")[0].outerHTML,content:"There's no image",placement:"bottom"});$(".image-preview-clear").click(function(event){$(".image-preview").attr("data-content","").popover("hide");$(".image-preview-filename").val("");$(".image-preview-clear").hide();$(".image-preview-input input:file").val("");$(".image-preview-input-title").text("Browse")});$(".image-preview-input input:file").change(function(event){if(this.files.length==0){return}var file=this.files[0];var reader=new FileReader();reader.onload=function(e){$(".image-preview-input-title").text("Change");$(".image-preview-clear").show();$(".image-preview-filename").val(file.name);$(".image-preview").attr("data-content",$("<img/>",{width:160,height:160}).attr("src",e.target.result)[0].outerHTML).popover("show")};reader.readAsDataURL(file)});$(document).on("click",".close_image_preview",function(event){$(".image-preview").popover("hide");$(".image-preview").hover(function(){$(".image-preview").popover("show")},function(){$(".image-preview").popover("hide")})})}})(jQuery);